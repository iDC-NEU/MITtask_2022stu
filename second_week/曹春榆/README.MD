选举时，为了避免网络分区的机器重新加入集群后引起重新选举，采用了prevote优化，即每次先确定可能赢得选举再进行发起选举。

将心跳和追加日志融合成了一个协程，同时，为了提高效率，在追加日志时会将该协程从睡眠中唤醒，而不是在心跳时间到达后再发送，同时，为了更快同步commitId，每次更新commitId后也是立即发送新的日志或心跳包，不进行睡眠。

注意，为了在debug打印时和本地版本相适应，这里修改go.mod的go版本为1.18

在figure8Unreliable的实验中，由于使用了prevote，所以一次成功选举至少需要两次投票。而该测试中，网络及其不稳定，网络延迟特别大。所以可能会出现失败。

目前，在snapshot还存在一些复现概率较低的bug，待后续解决。